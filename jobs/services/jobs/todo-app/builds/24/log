Started by user [8mha:////4HSKTYekCqJtgUzvE/X25d7VYiaybRQPqPlqTWr6Yj8mAAAAmR+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAz+EgZe/dLi1CL9xOKMzOKMPAD2nB5TwgAAAA==[0mAshish Nanotkar
Building in workspace /var/lib/jenkins/workspace/services/todo-app
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url git@github.com:yashsolutions/todo-app.git # timeout=10
Fetching upstream changes from git@github.com:yashsolutions/todo-app.git
 > git --version # timeout=10
 > git fetch --tags --progress git@github.com:yashsolutions/todo-app.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/master^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/master^{commit} # timeout=10
Checking out Revision 964f143896db05b3ac8eb3071b133b6d9f62c959 (refs/remotes/origin/master)
Commit message: "updated for flexible env config pickup"
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 964f143896db05b3ac8eb3071b133b6d9f62c959
 > git rev-list 964f143896db05b3ac8eb3071b133b6d9f62c959 # timeout=10
[todo-app] $ /bin/sh -xe /tmp/jenkins4601857011491122515.sh
+ echo service BUILD
service BUILD
+ echo service UNIT TEST
service UNIT TEST
+ echo service PACKAGE
service PACKAGE
+ aws ecr get-login --region us-east-2
+ docker login -u AWS -p eyJwYXlsb2FkIjoidDV6YXdXYXArcjZwVmhRUTd5WjJmcWRwaDZ1dnB3ZEZEVFBKeW5Vdkt6aE9vTWZzdThFbW1wY2VhbWZUQWFMQWlvWGtTWHd0YUxYVkxNL3piRllpa3JEcEdrSEwxcDFnRjJmekFlcXRCZXdaalQ4ckFmUjU1dkZ4VnBRU3NvS1MwN202YTZmMklmbHBteXNSLytOVkp6ZzFDb1Mrc05XU3lYaXdTVWs5Z0ZFUlF2QVZ4d0UwSUt3clBRbHhMS04rWVNBNFNvVTkxbFRjdTFoazZ6WVVLdVVFb0dhOEpkR1FZUTNQOE04aHZqbzIwNU1wUHIzUk1Bd2lFSlJLNGpEQ2N3cjJrM045Q3lPNmVXeHRqRHhMV2Y2VitwRTFsajZXQUdWNzZpd1hHTkI4aFg3bmdYanJUaXJtbEFPWFlqLy90Tk1HbHJyY0VHbHB5Z1BxZjFNUXpTc3BqWlZSNFZ3djBHMC9RWFltblpxR25ZNmlaQnBRUCtUdkRGSXA4K1RaRG0zOEl1Qzd6N21DRG1WZllVNnZkeThyUi9GTkMwYnJQTzRWUlozK3ZsQkRBZ0xIWUxIeGYyRGw1NTE4OUNrOVJCblMzSEY4SjJBVjJpY3JYYXg0OGkwOU9GSHFodThWNk5Lb3MwbG1SSDY5eEVLVHdoTXpWMHRDTUVhdHlIV1dzdXpydFZUN2JIbjRYdWppakZsQ1R5dzhUOWFJZUxIR1ZOam9ZcHdydFNwUHNLekQvcVd1WlZpcW1kWEQxTDRCdFdhWmpEb3ZRN2Fxd3k1QkZ0OWY5RVUyckQrSG1TcDVUTGVIcUpzRXpMc3Y0eUFkdzZwRHpDR3VRc2xkTGluaGVFRTZzZWszblV3b09lS3dqRVlWZXZMVUJ6NWFwS2xxVmhxcVM1NWN4djUvMHozU2ZWNGg0WHh4UkNscFZBcWptaGM4YlNobXNlVk5YdXNDWXBPZEtpZzF4S000VW1UU1U4cTYyUlhvK2NDeE1YSHpoRGg3UFR6MjZVcWxhb1UwT1FEcFJZdUEwd3lnc2diL3dQMUl6SzA0V213ZVQvRU1ORkIwZHF3NFlJZUZaUEt6dnVrNE1BbnA1NS9iMm1JZFhoR3FERjBCTlBNQ0RQNTZPekhpSlBPWFVWb2hkOHZGRkI0WVUrRHJxRnJKOXJzVi9Hd2Z0TENmNkxrbWtSRGVvbWs4d1RpY2NUcDhPbFVNRGJLQWpJR2VvNGVGN1lZTmx6bFBPWmdqQnh2UmJUbmtqZXpnS0RSRWRZSWRNMVdRTlU2MERFVzZXRmo5aW8vcFp4MkJYTW95SXp6TXNPQUdDUVhrMUpVeVc1OWhCSzJoNTArVFlub2NvQVF0UkZIMHB5bmtrZG5JUGdEa2svU2xqY1hoUU54c1lxaFo2MXk1V1AyRE92dkpQUWpLdHVvS1lTUjRzTklXS0xzViIsImRhdGFrZXkiOiJBUUVCQUhqQjcvaWd3TWc0TlB3YXVyeFNJWXg0SGZueHVHYy80OGJEd3Z3RHBOWVdaZ0FBQUg0d2ZBWUpLb1pJaHZjTkFRY0dvRzh3YlFJQkFEQm9CZ2txaGtpRzl3MEJCd0V3SGdZSllJWklBV1VEQkFFdU1CRUVETHlRYUpORFpCMSt6NWxEQndJQkVJQTdUay9WNnpzcWM3UzM0STJnWXVCTTE5bWpieVhmb1RQOTFwd3FSbS9nM3BkQTc0UG8xNnBUUmxuYWt3NFRhZGVVV3dUMmUwM1AzQUROejEwPSIsInZlcnNpb24iOiIxIiwidHlwZSI6IkRBVEFfS0VZIn0= -e none https://364238614392.dkr.ecr.us-east-2.amazonaws.com
Flag --email has been deprecated, will be removed in 17.06.
Login Succeeded
+ docker build -t services/todo-app .
Sending build context to Docker daemon  216.1kB
Step 1/6 : FROM node
 ---> de1099630c13
Step 2/6 : ADD ./ /app/
 ---> Using cache
 ---> 35561fd4284e
Step 3/6 : WORKDIR /app
 ---> Using cache
 ---> 10fb5d1dc57a
Step 4/6 : RUN npm install
 ---> Using cache
 ---> 12bfa2665ea2
Step 5/6 : EXPOSE 80
 ---> Using cache
 ---> 4a4d4e0ced06
Step 6/6 : CMD node server.js
 ---> Using cache
 ---> 9a22e8c79398
Successfully built 9a22e8c79398
Successfully tagged services/todo-app:latest
+ docker tag services/todo-app:latest 364238614392.dkr.ecr.us-east-2.amazonaws.com/services/todo-app:964f143896db05b3ac8eb3071b133b6d9f62c959
+ docker push 364238614392.dkr.ecr.us-east-2.amazonaws.com/services/todo-app:964f143896db05b3ac8eb3071b133b6d9f62c959
The push refers to a repository [364238614392.dkr.ecr.us-east-2.amazonaws.com/services/todo-app]
390b8c235ee6: Preparing
a7e5c60ea587: Preparing
eaf747b8be7f: Preparing
3a9f3dd4c49c: Preparing
1d13cfbbfeb2: Preparing
bfa30f97c0f4: Preparing
7381522c58b0: Preparing
ecd70829ec3d: Preparing
d70ce8b0dad6: Preparing
18f9b4e2e1bc: Preparing
7381522c58b0: Waiting
ecd70829ec3d: Waiting
d70ce8b0dad6: Waiting
18f9b4e2e1bc: Waiting
bfa30f97c0f4: Waiting
3a9f3dd4c49c: Layer already exists
eaf747b8be7f: Layer already exists
1d13cfbbfeb2: Layer already exists
a7e5c60ea587: Layer already exists
390b8c235ee6: Layer already exists
7381522c58b0: Layer already exists
bfa30f97c0f4: Layer already exists
18f9b4e2e1bc: Layer already exists
d70ce8b0dad6: Layer already exists
ecd70829ec3d: Layer already exists
964f143896db05b3ac8eb3071b133b6d9f62c959: digest: sha256:54d3ff798dcb26444d7dedb8a1384136076d877e031cec570eee310f23e5238e size: 2426
+ echo service DEPLOY TO DEV
service DEPLOY TO DEV
Waiting for the completion of [8mha:////4KVeDeas30zMuguFUM6SjZ9KrVZgYGE7Zkobsbj6ccD5AAAAmh+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMgQLWGQ1c/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvUBHxq2+qIAAAA=[0mcommon Â» deploy-swarm
[8mha:////4FY7WRImsRGukl3WWtt77s4cur50xUJTF1E6W/MFzwq+AAAAnR+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMhQKmFQ0M/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvXNLfUBjEGWaqUAAAA=[0mcommon Â» deploy-swarm dev-todo-app completed. Result was SUCCESS
Build step 'Trigger/call builds on other projects' changed build result to SUCCESS
[todo-app] $ /bin/sh -xe /tmp/jenkins2449412130328321726.sh
+ echo service INTEGRATION TEST
service INTEGRATION TEST
+ echo service DEPLOY TO STAGE
service DEPLOY TO STAGE
Waiting for the completion of [8mha:////4KVeDeas30zMuguFUM6SjZ9KrVZgYGE7Zkobsbj6ccD5AAAAmh+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMgQLWGQ1c/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvUBHxq2+qIAAAA=[0mcommon Â» deploy-swarm
[8mha:////4GMNifdX8gF7F7NSPNN4+Ft6su9PtvS44ax0gG/mthwxAAAAnR+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMhQKWFQ0M/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvUtDPQBBErIeaUAAAA=[0mcommon Â» deploy-swarm stage-todo-app completed. Result was SUCCESS
[todo-app] $ /bin/sh -xe /tmp/jenkins8681229960851439942.sh
+ echo service UAT / FUNCTIONAL TEST
service UAT / FUNCTIONAL TEST
+ echo service DEPLOY TO PROD
service DEPLOY TO PROD
Waiting for the completion of [8mha:////4KVeDeas30zMuguFUM6SjZ9KrVZgYGE7Zkobsbj6ccD5AAAAmh+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMgQLWGQ1c/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvUBHxq2+qIAAAA=[0mcommon Â» deploy-swarm
[8mha:////4OnS90CwVxg6Zz8nVEtAYHFvkXg9arQ1I6JzyVavPYCcAAAAnR+LCAAAAAAAAP9b85aBtbiIQSajNKU4P08vOT+vOD8nVc+jsiC1KCczL9svvyTVzHb1RttJBUeZGJg8GdhyUvPSSzJ8GJhLi3JKGIR8shLLEvVzEvPS9YNLijLz0q0rihik0IxzhtAgwxgggJGJgaGiAMhQLmFQ0M/KT9JPzs/Nzc8DM1NSC3LyK3WLyxOLcvUtDPUBLFhjPKUAAAA=[0mcommon Â» deploy-swarm prod-todo-app completed. Result was SUCCESS
Finished: SUCCESS
